name: Sample book application workflow

on:
  push:
    branches: [ "main" ]

  workflow_dispatch:

jobs:
  build:
    runs-on: "ubuntu-latest"
    steps:
      - uses: "actions/checkout@v4"
      - name: "Print step name"
        run: echo "Building of node application started"
  deploy-dev:
    runs-on: "ubuntu-latest"
    needs: [build]
    steps:
      - uses: "actions/checkout@v4"
      - name: "Print step name"
        run: echo "Building of DEV started"
  test-dev:
    runs-on: "ubuntu-latest"
    needs: [deploy-dev]
    steps:
      - uses: "actions/checkout@v4"
      - name: "Print step name"
        run: echo "Testing BOOKS test set on DEV has started..."
  deploy-stg:
    runs-on: "ubuntu-latest"
    needs: [test-dev]
    steps:
      - uses: "actions/checkout@v4"
      - name: "Print step name"
        run: echo "Building of STG started"
  test-stg:
    runs-on: "ubuntu-latest"
    needs: [deploy-stg]
    steps:
      - uses: "actions/checkout@v4"
      - name: "Print step name"
        run: echo "Testing BOOKS test set on STG has started..."
  deploy-prd:
    runs-on: "ubuntu-latest"
    needs: [test-stg]
    steps:
      - uses: "actions/checkout@v4"
      - name: "Print step name"
        run: echo "Building of PRD started"
  test-prd:
    runs-on: "ubuntu-latest"
    needs: [deploy-prd]
    steps:
      - uses: "actions/checkout@v4"
      - name: "Print step name"
        run: echo "Testing BOOKS test set on PRD has started..."
